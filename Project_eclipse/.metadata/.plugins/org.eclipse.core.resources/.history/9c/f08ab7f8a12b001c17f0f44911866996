#include "ultrasonic.h"
#include "lcd.h"
#include <avr/io.h>
#include <util/delay.h>


int main(){
	/*Enabling global interrupt enable in the status register of AVR*/
	SREG |= (1<<7);
	/*declaring variable dist which will hold the distance from the object*/
	uint16 dist=0;
	/*initalizing the LCD*/
	LCD_init();
	/*Initalizing ultrasonic sensor*/
	Ultrasonic_init();
	LCD_displayString("Distance=   cm");

	/*super loop*/
	while(1){
          /*triggering the ultrasonic sensor*/
		Ultrasonic_Trigger();
		/*delay so that the ICU can detect the falling edge*/
		_delay_ms(1);
		/*reading the distance from the object from ULTRAsonic_readDistance() function*/
		dist= Ultrasonic_readDistance();
		/*moving cursor of the LCD to the position we would like to write the distance in*/
		LCD_moveCursor(0,9);
		LCD_intgerToString(dist);

	}




}
